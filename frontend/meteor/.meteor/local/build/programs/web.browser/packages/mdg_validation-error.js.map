{"version":3,"sources":["meteor://ðŸ’»app/packages/mdg:validation-error/validation-error.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIA,IAAM,cAAc,IAAI,YAAJ,CAAiB;AACnC,QAAM,EAAC,MAAM,MAAN,EAAP;AACA,QAAM,EAAC,MAAM,MAAN,EAAP;AACA,WAAS,EAAC,MAAM,MAAN,EAAc,UAAU,IAAV,EAAgB,UAAU,IAAV,EAAxC;CAHkB,CAAd;;AAMN,IAAM,eAAe,IAAI,YAAJ,CAAiB;AACpC,UAAQ,EAAC,MAAM,KAAN,EAAT;AACA,cAAY,EAAC,MAAM,WAAN,EAAb;CAFmB,CAAf;;AAKN;;;AACE,kBAAY,MAAZ,EAAmD;QAA/B,gEAAU,mCAAqB;;;AACjD,iBAAa,QAAb,CAAsB,EAAC,cAAD,EAAtB,EADiD;;kEAGjD,yBAAM,gBAAgB,UAAhB,EAA4B,OAAlC,EAA2C,MAA3C,GAHiD;;AAKjD,UAAK,MAAL,GAAc,MAAd,CALiD;;GAAnD;;;EAD8B,OAAO,KAAP,CAAhC;;;;AAYA,gBAAgB,UAAhB,GAA6B,kBAA7B,kE","file":"/packages/mdg_validation-error.js","sourcesContent":["/* global ValidationError:true */\n/* global SimpleSchema */\n\n// This is exactly what comes out of SS.\nconst errorSchema = new SimpleSchema({\n  name: {type: String},\n  type: {type: String},\n  details: {type: Object, blackbox: true, optional: true}\n});\n\nconst errorsSchema = new SimpleSchema({\n  errors: {type: Array},\n  'errors.$': {type: errorSchema}\n});\n\nValidationError = class extends Meteor.Error {\n  constructor(errors, message = 'Validation Failed') {\n    errorsSchema.validate({errors});\n\n    super(ValidationError.ERROR_CODE, message, errors);\n\n    this.errors = errors;\n  }\n};\n\n// If people use this to check for the error code, we can change it\n// in future versions\nValidationError.ERROR_CODE = 'validation-error';\n"]}