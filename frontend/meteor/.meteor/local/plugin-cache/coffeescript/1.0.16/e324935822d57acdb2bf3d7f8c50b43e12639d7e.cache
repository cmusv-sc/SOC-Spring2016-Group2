{"source":"__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;\n        \n\nMeteor.startup(function() {\n  if (Meteor.isClient) {\n    return Template.registerHelper('t9n', function(x, params) {\n      return T9n.get(x, true, params.hash);\n    });\n  }\n});\n\nT9n = (function() {\n  function T9n() {}\n\n  T9n.maps = {};\n\n  T9n.defaultLanguage = 'en';\n\n  T9n.language = '';\n\n  T9n.dep = new Deps.Dependency();\n\n  T9n.depLanguage = new Deps.Dependency();\n\n  T9n.missingPrefix = \">\";\n\n  T9n.missingPostfix = \"<\";\n\n  T9n.map = function(language, map) {\n    if (!this.maps[language]) {\n      this.maps[language] = {};\n    }\n    this.registerMap(language, '', false, map);\n    return this.dep.changed();\n  };\n\n  T9n.get = function(label, markIfMissing, args) {\n    var ref, ref1, ret;\n    if (markIfMissing == null) {\n      markIfMissing = true;\n    }\n    if (args == null) {\n      args = {};\n    }\n    this.dep.depend();\n    this.depLanguage.depend();\n    if (typeof label !== 'string') {\n      return '';\n    }\n    ret = ((ref = this.maps[this.language]) != null ? ref[label] : void 0) || ((ref1 = this.maps[this.defaultLanguage]) != null ? ref1[label] : void 0) || (markIfMissing ? this.missingPrefix + label + this.missingPostfix : label);\n    if (Object.keys(args).length === 0) {\n      return ret;\n    } else {\n      return this.replaceParams(ret, args);\n    }\n  };\n\n  T9n.registerMap = function(language, prefix, dot, map) {\n    var key, results, value;\n    if (typeof map === 'string') {\n      return this.maps[language][prefix] = map;\n    } else if (typeof map === 'object') {\n      if (dot) {\n        prefix = prefix + '.';\n      }\n      results = [];\n      for (key in map) {\n        value = map[key];\n        results.push(this.registerMap(language, prefix + key, true, value));\n      }\n      return results;\n    }\n  };\n\n  T9n.getLanguage = function() {\n    this.depLanguage.depend();\n    return this.language;\n  };\n\n  T9n.getLanguages = function() {\n    this.dep.depend();\n    return Object.keys(this.maps).sort();\n  };\n\n  T9n.setLanguage = function(language) {\n    if (!this.maps[language] || this.language === language) {\n      return;\n    }\n    this.language = language;\n    return this.depLanguage.changed();\n  };\n\n  T9n.replaceParams = function(str, args) {\n    var key, re, value;\n    for (key in args) {\n      value = args[key];\n      re = new RegExp(\"@{\" + key + \"}\", 'g');\n      str = str.replace(re, value);\n    }\n    return str;\n  };\n\n  return T9n;\n\n})();\n\nthis.T9n = T9n;\n\nthis.t9n = function(x, includePrefix, params) {\n  return T9n.get(x);\n};\n","sourceMap":{"version":3,"file":"/t9n.coffee.js","sourceRoot":"","sources":["/packages/softwarerero_accounts-t9n/t9n.coffee"],"names":[],"mappings":"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","sourcesContent":["Meteor.startup ->\n  if Meteor.isClient\n    Template.registerHelper 't9n', (x, params) ->\n      T9n.get(x, true, params.hash)\n\n\nclass T9n\n\n  @maps: {}\n  @defaultLanguage: 'en'\n  @language: ''\n  @dep: new Deps.Dependency()\n  @depLanguage: new Deps.Dependency()\n  @missingPrefix = \">\"\n  @missingPostfix = \"<\"\n\n  @map: (language, map) ->\n    if(!@maps[language]) \n      @maps[language] = {}\n    @registerMap(language, '', false, map)\n    @dep.changed()\n\n  @get: (label, markIfMissing = true, args = {}) ->\n    @dep.depend()\n    @depLanguage.depend()\n    if typeof label != 'string' \n      return ''\n    ret = @maps[@language]?[label] ||\n      @maps[@defaultLanguage]?[label] ||\n      if markIfMissing then @missingPrefix + label + @missingPostfix else label\n    if Object.keys(args).length == 0 then ret else @replaceParams ret, args\n  \n  @registerMap = (language, prefix, dot, map) ->\n    if typeof map == 'string' \n      @maps[language][prefix] = map\n    else if typeof map == 'object'\n      if dot \n        prefix = prefix + '.'\n      for key, value of map\n        @registerMap(language, prefix + key, true, value)        \n\n  @getLanguage: () ->\n    @depLanguage.depend()\n    return @language\n\n  @getLanguages: () ->\n    @dep.depend()\n    return Object.keys(@maps).sort()\n\n  @setLanguage: (language) ->\n    if(!@maps[language] || @language == language) \n      return;\n    @language = language\n    @depLanguage.changed()\n\n  @replaceParams = (str, args) ->\n    for key, value of args\n      re = new RegExp \"@{#{key}}\", 'g'\n      str = str.replace re, value\n    str\n    \n\n@T9n = T9n\n@t9n = (x, includePrefix, params) -> T9n.get(x)\n\n"]}}